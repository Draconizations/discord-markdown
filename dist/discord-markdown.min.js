var discordMarkdown=function(e){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e,t,n,r,o,a,l,u,c=/\r\n?/g,i=/\t/g,s=/\f/g,d=function(e){return e.replace(c,"\n").replace(s,"").replace(i,"    ")},f=function(e,t){var n=e||{};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},p=function(e,t){var n,r=Object.keys(e).filter((function(t){var n=e[t];if(null==n||null==n.match)return!1;var r=n.order;return"number"==typeof r&&isFinite(r)||"undefined"==typeof console||console.warn("simple-markdown: Invalid order for rule `"+t+"`: "+String(r)),!0}));r.sort((function(t,n){var r=e[t],o=e[n],a=r.order,l=o.order;if(a!==l)return a-l;var u=r.quality?0:1,c=o.quality?0:1;return u!==c?u-c:t<n?-1:t>n?1:0}));var o=function(t,a){var l=[];for(n=a=a||n;t;){var u=null,c=null,i=null,s=NaN,d=0,f=r[0],p=e[f];do{var h=p.order,m=null==a.prevCapture?"":a.prevCapture[0],g=p.match(t,a,m);if(g){var y=p.quality?p.quality(g,a,m):0;y<=s||(u=f,c=p,i=g,s=y)}d++,f=r[d],p=e[f]}while(p&&(!i||p.order===h&&p.quality));if(null==c||null==i)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+r[r.length-1]+"'. It seems to not match the following source:\n"+t);if(i.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var b=c.parse(i,o,a);Array.isArray(b)?Array.prototype.push.apply(l,b):(null==b.type&&(b.type=u),l.push(b)),a.prevCapture=i,t=t.substring(a.prevCapture[0].length)}return l};return function(e,r){return(n=f(r,t)).inline||n.disableAutoBlockNewlines||(e+="\n\n"),n.prevCapture=null,o(d(e),n)}},h=function(e){var t=function(t,n){return n.inline?e.exec(t):null};return t.regex=e,t},m=function(e){var t=function(t,n){return n.inline?null:e.exec(t)};return t.regex=e,t},g=function(e){var t=function(t,n){return e.exec(t)};return t.regex=e,t},y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,b=function(e,t,n){return{$$typeof:y,type:e,key:null==t?void 0:t,ref:null,props:n,_owner:null}},x=function(e,t,n,r){n=n||{},r=void 0===r||r;var o="";for(var a in n){var l=n[a];Object.prototype.hasOwnProperty.call(n,a)&&l&&(o+=" "+A(a)+'="'+A(l)+'"')}var u="<"+e+o+">";return r?u+t+"</"+e+">":u},v={},w=function(e){if(null==e)return null;try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").toLowerCase();if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}catch(e){return null}return e},k=/[<>&"']/g,R={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},A=function(e){return String(e).replace(k,(function(e){return R[e]}))},O=/\\([^0-9A-Za-z\s])/g,E=function(e){return e.replace(O,"$1")},C=function(e,t,n){var r=n.inline||!1;n.inline=!0;var o=e(t,n);return n.inline=r,o},S=function(e,t,n){return{content:C(t,e[1],n)}},_=function(){return{}},j=new RegExp("^( *)((?:[*+-]|\\d+\\.)) +"),T=new RegExp("( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),B=/\n{2,}$/,$=/^ (?= *`)|(` *) $/g,F=B,z=/ *\n+$/,U=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) )\\n*|\\s*\n*$)"),P=/(?:^|\n)( *)$/,L=(e=/^ *\| *| *\| *$/g,t=/ *$/,n=/^ *-+: *$/,r=/^ *:-+: *$/,o=/^ *:-+ *$/,a=function(e){return n.test(e)?"right":r.test(e)?"center":o.test(e)?"left":null},l=function(e,n,r,o){var a=r.inTable;r.inTable=!0;var l=n(e.trim(),r);r.inTable=a;var u=[[]];return l.forEach((function(e,n){"tableSeparator"===e.type?(!o||0!==n&&n!==l.length-1)&&u.push([]):("text"!==e.type||null!=l[n+1]&&"tableSeparator"!==l[n+1].type||(e.content=e.content.replace(t,"")),u[u.length-1].push(e))})),u},{parseTable:(u=function(t){return function(n,r,o){o.inline=!0;var u=l(n[1],r,o,t),c=function(t,n,r,o){return o&&(t=t.replace(e,"")),t.trim().split("|").map(a)}(n[2],0,0,t),i=function(e,t,n,r){return e.trim().split("\n").map((function(e){return l(e,t,n,r)}))}(n[3],r,o,t);return o.inline=!1,{type:"table",header:u,align:c,cells:i}}})(!0),parseNpTable:u(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),N="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",M="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",I=/mailto:/i,Z=function(e,t,n){var r=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[r]){var o=t._defs[r];n.target=o.target,n.title=o.title}return t._refs=t._refs||{},t._refs[r]=t._refs[r]||[],t._refs[r].push(n),n},q=0,D={Array:{react:function(e,t,n){for(var r=n.key,o=[],a=0,l=0;a<e.length;a++,l++){n.key=""+a;var u=e[a];if("text"===u.type)for(u={type:"text",content:u.content};a+1<e.length&&"text"===e[a+1].type;a++)u.content+=e[a+1].content;o.push(t(u,n))}return n.key=r,o},html:function(e,t,n){for(var r="",o=0;o<e.length;o++){var a=e[o];if("text"===a.type)for(a={type:"text",content:a.content};o+1<e.length&&"text"===e[o+1].type;o++)a.content+=e[o+1].content;r+=t(a,n)}return r}},heading:{order:q++,match:m(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(e,t,n){return{level:e[1].length,content:C(t,e[2].trim(),n)}},react:function(e,t,n){return b("h"+e.level,n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("h"+e.level,t(e.content,n))}},nptable:{order:q++,match:m(L.NPTABLE_REGEX),parse:L.parseNpTable,react:null,html:null},lheading:{order:q++,match:m(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,n){return{type:"heading",level:"="===e[2]?1:2,content:C(t,e[1],n)}},react:null,html:null},hr:{order:q++,match:m(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:_,react:function(e,t,n){return b("hr",n.key,v)},html:function(e,t,n){return"<hr>"}},codeBlock:{order:q++,match:m(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,n){return{lang:void 0,content:e[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0;return b("pre",n.key,{children:b("code",null,{className:r,children:e.content})})},html:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0,o=x("code",A(e.content),{class:r});return x("pre",o)}},fence:{order:q++,match:m(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(e,t,n){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}},react:null,html:null},blockQuote:{order:q++,match:m(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,n){return{content:t(e[0].replace(/^ *> ?/gm,""),n)}},react:function(e,t,n){return b("blockquote",n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("blockquote",t(e.content,n))}},list:{order:q++,match:function(e,t){var n=null==t.prevCapture?"":t.prevCapture[0],r=P.exec(n),o=t._list||!t.inline;return r&&o?(e=r[1]+e,U.exec(e)):null},parse:function(e,t,n){var r=e[2],o=r.length>1,a=o?+r:void 0,l=e[0].replace(F,"\n").match(T),u=!1;return{ordered:o,start:a,items:l.map((function(e,r){var o=j.exec(e),a=o?o[0].length:0,c=new RegExp("^ {1,"+a+"}","gm"),i=e.replace(c,"").replace(j,""),s=r===l.length-1,d=-1!==i.indexOf("\n\n")||s&&u;u=d;var f,p=n.inline,h=n._list;n._list=!0,d?(n.inline=!1,f=i.replace(z,"\n\n")):(n.inline=!0,f=i.replace(z,""));var m=t(f,n);return n.inline=p,n._list=h,m}))}},react:function(e,t,n){var r=e.ordered?"ol":"ul";return b(r,n.key,{start:e.start,children:e.items.map((function(e,r){return b("li",""+r,{children:t(e,n)})}))})},html:function(e,t,n){var r=e.items.map((function(e){return x("li",t(e,n))})).join(""),o=e.ordered?"ol":"ul",a={start:e.start};return x(o,r,a)}},def:{order:q++,match:m(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(e,t,n){var r=e[1].replace(/\s+/g," ").toLowerCase(),o=e[2],a=e[3];return n._refs&&n._refs[r]&&n._refs[r].forEach((function(e){e.target=o,e.title=a})),n._defs=n._defs||{},n._defs[r]={target:o,title:a},{def:r,target:o,title:a}},react:function(){return null},html:function(){return""}},table:{order:q++,match:m(L.TABLE_REGEX),parse:L.parseTable,react:function(e,t,n){var r=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},o=e.header.map((function(e,o){return b("th",""+o,{style:r(o),scope:"col",children:t(e,n)})})),a=e.cells.map((function(e,o){return b("tr",""+o,{children:e.map((function(e,o){return b("td",""+o,{style:r(o),children:t(e,n)})}))})}));return b("table",n.key,{children:[b("thead","thead",{children:b("tr",null,{children:o})}),b("tbody","tbody",{children:a})]})},html:function(e,t,n){var r=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},o=e.header.map((function(e,o){return x("th",t(e,n),{style:r(o),scope:"col"})})).join(""),a=e.cells.map((function(e){var o=e.map((function(e,o){return x("td",t(e,n),{style:r(o)})})).join("");return x("tr",o)})).join(""),l=x("thead",x("tr",o)),u=x("tbody",a);return x("table",l+u)}},newline:{order:q++,match:m(/^(?:\n *)*\n/),parse:_,react:function(e,t,n){return"\n"},html:function(e,t,n){return"\n"}},paragraph:{order:q++,match:m(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:S,react:function(e,t,n){return b("div",n.key,{className:"paragraph",children:t(e.content,n)})},html:function(e,t,n){return x("div",t(e.content,n),{class:"paragraph"})}},escape:{order:q++,match:h(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,n){return{type:"text",content:e[1]}},react:null,html:null},tableSeparator:{order:q++,match:function(e,t){return t.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:q++,match:h(/^<([^: >]+:\/[^ >]+)>/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}},react:null,html:null},mailto:{order:q++,match:h(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,n){var r=e[1],o=e[1];return I.test(o)||(o="mailto:"+o),{type:"link",content:[{type:"text",content:r}],target:o}},react:null,html:null},url:{order:q++,match:h(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}},react:null,html:null},link:{order:q++,match:h(new RegExp("^\\[("+N+")\\]\\("+M+"\\)")),parse:function(e,t,n){return{content:t(e[1],n),target:E(e[2]),title:e[3]}},react:function(e,t,n){return b("a",n.key,{href:w(e.target),title:e.title,children:t(e.content,n)})},html:function(e,t,n){var r={href:w(e.target),title:e.title};return x("a",t(e.content,n),r)}},image:{order:q++,match:h(new RegExp("^!\\[("+N+")\\]\\("+M+"\\)")),parse:function(e,t,n){return{alt:e[1],target:E(e[2]),title:e[3]}},react:function(e,t,n){return b("img",n.key,{src:w(e.target),alt:e.alt,title:e.title})},html:function(e,t,n){var r={src:w(e.target),alt:e.alt,title:e.title};return x("img","",r,!1)}},reflink:{order:q++,match:h(new RegExp("^\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return Z(e,n,{type:"link",content:t(e[1],n)})},react:null,html:null},refimage:{order:q++,match:h(new RegExp("^!\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return Z(e,n,{type:"image",alt:e[1]})},react:null,html:null},em:{order:q,match:h(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(e,t,n){return{content:t(e[2]||e[1],n)}},react:function(e,t,n){return b("em",n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("em",t(e.content,n))}},strong:{order:q,match:h(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:S,react:function(e,t,n){return b("strong",n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("strong",t(e.content,n))}},u:{order:q++,match:h(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:S,react:function(e,t,n){return b("u",n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("u",t(e.content,n))}},del:{order:q++,match:h(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:S,react:function(e,t,n){return b("del",n.key,{children:t(e.content,n)})},html:function(e,t,n){return x("del",t(e.content,n))}},inlineCode:{order:q++,match:h(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(e,t,n){return{content:e[2].replace($,"$1")}},react:function(e,t,n){return b("code",n.key,{children:e.content})},html:function(e,t,n){return x("code",A(e.content))}},br:{order:q++,match:g(/^ {2,}\n/),parse:_,react:function(e,t,n){return b("br",n.key,v)},html:function(e,t,n){return"<br>"}},text:{order:q++,match:g(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,n){return{content:e[0]}},react:function(e,t,n){return e.content},html:function(e,t,n){return A(e.content)}}},H=function(e,t,n){if(!t)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var r,o=(e.Array||D.Array)[t];if(!o)throw new Error("simple-markdown: outputFor: to join nodes of type `"+t+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var a=o,l=function(n,o){return r=o=o||r,Array.isArray(n)?a(n,l,o):e[n.type][t](n,l,o)};return function(e,t){return r=f(t,n),l(e,r)}},Q=p(D),G=function(e,t){return(t=t||{}).inline=!1,Q(e,t)},V=function(e,t){var n=B.test(e);return(t=t||{}).inline=!n,Q(e,t)},X=H(D,"react"),Y=H(D,"html"),J=function(e,t){return X(G(e,t),t)};return{defaultRules:D,parserFor:p,outputFor:H,inlineRegex:h,blockRegex:m,anyScopeRegex:g,parseInline:C,parseBlock:function(e,t,n){var r=n.inline||!1;n.inline=!1;var o=e(t+"\n\n",n);return n.inline=r,o},markdownToReact:J,markdownToHtml:function(e,t){return Y(G(e,t),t)},ReactMarkdown:function(e){var t={};for(var n in e)"source"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.children=J(e.source),b("div",null,t)},defaultBlockParse:G,defaultInlineParse:function(e,t){return(t=t||{}).inline=!0,Q(e,t)},defaultImplicitParse:V,defaultReactOutput:X,defaultHtmlOutput:Y,preprocess:d,sanitizeText:A,sanitizeUrl:w,unescapeUrl:E,htmlTag:x,reactElement:b,defaultRawParse:Q,ruleOutput:function(e,t){return t||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),function(n,r,o){return e[n.type][t](n,r,o)}},reactFor:function(e){var t=function(n,r){if(r=r||{},Array.isArray(n)){for(var o=r.key,a=[],l=null,u=0;u<n.length;u++){r.key=""+u;var c=t(n[u],r);"string"==typeof c&&"string"==typeof l?(l+=c,a[a.length-1]=l):(a.push(c),l=c)}return r.key=o,a}return e(n,t,r)};return t},htmlFor:function(e){var t=function(n,r){return r=r||{},Array.isArray(n)?n.map((function(e){return t(e,r)})).join(""):e(n,t,r)};return t},defaultParse:function(){return"undefined"!=typeof console&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`"),V.apply(null,arguments)},defaultOutput:function(){return"undefined"!=typeof console&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`"),X.apply(null,arguments)}}}()}));const n="function"==typeof Buffer,r="function"==typeof TextDecoder?new TextDecoder:void 0,o="function"==typeof TextEncoder?new TextEncoder:void 0,a=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),l=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(a),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,c=String.fromCharCode.bind(String),i="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),s=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),d=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),f=e=>{let t,n,r,o,l="";const u=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(o=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,l+=a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}return u?l.slice(0,u-3)+"===".substring(u):l},p="function"==typeof btoa?e=>btoa(e):n?e=>Buffer.from(e,"binary").toString("base64"):f,h=n?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(c.apply(null,e.subarray(n,n+4096)));return p(t.join(""))},m=(e,t=!1)=>t?s(h(e)):h(e),g=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,b=e=>e.replace(y,g),x=n?e=>Buffer.from(e,"utf8").toString("base64"):o?e=>h(o.encode(e)):e=>p(b(e)),v=(e,t=!1)=>t?s(x(e)):x(e),w=e=>v(e,!0),k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,R=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},A=e=>e.replace(k,R),O=e=>{if(e=e.replace(/\s+/g,""),!u.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,o="";for(let a=0;a<e.length;)t=l[e.charAt(a++)]<<18|l[e.charAt(a++)]<<12|(n=l[e.charAt(a++)])<<6|(r=l[e.charAt(a++)]),o+=64===n?c(t>>16&255):64===r?c(t>>16&255,t>>8&255):c(t>>16&255,t>>8&255,255&t);return o},E="function"==typeof atob?e=>atob(d(e)):n?e=>Buffer.from(e,"base64").toString("binary"):O,C=n?e=>i(Buffer.from(e,"base64")):e=>i(E(e).split("").map(e=>e.charCodeAt(0))),S=e=>C(j(e)),_=n?e=>Buffer.from(e,"base64").toString("utf8"):r?e=>r.decode(C(e)):e=>A(E(e)),j=e=>d(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),T=e=>_(j(e)),B=e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},$=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),F=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,$(t));e("fromBase64",(function(){return T(this)})),e("toBase64",(function(e){return v(this,e)})),e("toBase64URI",(function(){return v(this,!0)})),e("toBase64URL",(function(){return v(this,!0)})),e("toUint8Array",(function(){return S(this)}))},z=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,$(t));e("toBase64",(function(e){return m(this,e)})),e("toBase64URI",(function(){return m(this,!0)})),e("toBase64URL",(function(){return m(this,!0)}))},U=()=>{F(),z()},P={version:"3.7.7",VERSION:"3.7.7",atob:E,atobPolyfill:O,btoa:p,btoaPolyfill:f,fromBase64:T,toBase64:v,encode:v,encodeURI:w,encodeURL:w,utob:b,btou:A,decode:T,isValid:B,fromUint8Array:m,toUint8Array:S,extendString:F,extendUint8Array:z,extendBuiltins:U};var L,N=(L=Object.freeze({__proto__:null,version:"3.7.7",VERSION:"3.7.7",atob:E,atobPolyfill:O,btoa:p,btoaPolyfill:f,fromBase64:T,toBase64:v,utob:b,encode:v,encodeURI:w,encodeURL:w,btou:A,decode:T,isValid:B,fromUint8Array:m,toUint8Array:S,extendString:F,extendUint8Array:z,extendBuiltins:U,Base64:P}))&&L.default||L;const{Base64:M}=N;function I(e,n,r,o=!0,a={}){"object"==typeof o&&(a=o,o=!0),r||(r={}),r.class&&a.cssModuleNames&&(r.class=r.class.split(" ").map(e=>a.cssModuleNames[e]||e).join(" "));let l="";for(let e in r)Object.prototype.hasOwnProperty.call(r,e)&&r[e]&&(l+=` ${t.sanitizeText(e)}="${t.sanitizeText(r[e])}"`);let u=`<${e}${l}>`;return o?u+n+`</${e}>`:u}t.htmlTag=I;const Z={blockQuote:Object.assign({},t.defaultRules.blockQuote,{match:function(e,t,n){return!/^$|\n *$/.test(n)||t.inQuote?null:/^( *>>> ([\s\S]*))|^( *> [^\n]*(\n *> [^\n]*)*\n?)/.exec(e)},parse:function(e,t,n){const r=e[0],o=Boolean(/^ *>>> ?/.exec(r))?/^ *>>> ?/:/^ *> ?/gm;return{content:t(r.replace(o,""),Object.assign({},n,{inQuote:!0})),type:"blockQuote"}}}),list:Object.assign({},t.defaultRules.list,{match:function(e,t){var n=null==t.prevCapture?"":t.prevCapture[0],r=/(?:^|\n(?:\>{1}|\>{3})?)( *)$/.exec(n);return r?(e=r[1]+e,new RegExp("^(?:>{1}|>{3})?( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\n+(?! )(?!\\1(?:[*+-]|\\d+\\.) )\\n*|\\s*\n*$)").exec(e)):null},parse:function(e,t,n){var r=new RegExp("^( *)((?:[*+-]|\\d+\\.)) +"),o=new RegExp("( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),a=/(\n{2,})$/,l=/ *\n+$/,u=e[2],c=u.length>1,i=c?+u:void 0,s=e[0].match(o),d=!1;return{ordered:c,start:i,items:s.map((function(e,o){var u=r.exec(e),c=u?u[0].length:0,i=new RegExp("^ {1,"+c+"}","gm"),f=e.replace(i,"").replace(r,""),p=o===s.length-1,h=-1!==f.indexOf("\n\n")||p&&d;d=h;var m,g=n.inline,y=n._list;if(n._list=!0,h){n.inline=!0;var b=a.exec(f);b[0]&&(m=f.replace(a,b[1]))}else n.inline=!0,m=f.replace(l,"");var x=t(m,n);return n.inline=g,n._list=y,x}))}}}),codeBlock:Object.assign({},t.defaultRules.codeBlock,{match:t.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),parse:function(e,t,n){return{lang:(e[2]||"").trim(),content:e[3]||"",inQuote:n.inQuote||!1}},html:(e,t,n)=>I("pre",I("code","",{"data-code":M.encode(e.content),"data-code-language":e.lang},n),null,n)}),newline:t.defaultRules.newline,escape:t.defaultRules.escape,autolink:Object.assign({},t.defaultRules.autolink,{parse:e=>({content:[{type:"text",content:e[1]}],target:e[1]}),html:(e,n,r)=>I("a",n(e.content,r),{href:t.sanitizeUrl(e.target)},r)}),url:Object.assign({},t.defaultRules.url,{parse:e=>({content:[{type:"text",content:e[1]}],target:e[1]}),html:(e,n,r)=>I("a",n(e.content,r),{href:t.sanitizeUrl(e.target)},r)}),em:Object.assign({},t.defaultRules.em,{parse:function(e,n,r){const o=t.defaultRules.em.parse(e,n,Object.assign({},r,{inEmphasis:!0}));return r.inEmphasis?o.content:o}}),strong:t.defaultRules.strong,u:t.defaultRules.u,strike:Object.assign({},t.defaultRules.del,{match:t.inlineRegex(/^~~([\s\S]+?)~~(?!_)/)}),inlineCode:Object.assign({},t.defaultRules.inlineCode,{match:e=>t.defaultRules.inlineCode.match.regex.exec(e),html:function(e,n,r){return I("code",t.sanitizeText(e.content.trim()),null,r)}}),text:Object.assign({},t.defaultRules.text,{match:e=>/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e),html:function(e,n,r){return r.escapeHTML?t.sanitizeText(e.content):e.content}}),emoticon:{order:t.defaultRules.text.order,match:e=>/^(¯\\_\(ツ\)_\/¯)/.exec(e),parse:function(e){return{type:"text",content:e[1]}},html:function(e,t,n){return t(e.content,n)}},br:Object.assign({},t.defaultRules.br,{match:t.anyScopeRegex(/^\n/)}),spoiler:{order:0,match:e=>/^\|\|([\s\S]+?)\|\|/.exec(e),parse:function(e,t,n){return{content:t(e[1],n)}},html:function(e,t,n){return I("span",t(e.content,n),{class:"d-spoiler"},n)}}},q={heading:Object.assign({},t.defaultRules.heading,{match:function(e,t){const n=/^ *(#{1,}) ([^\n#]+)#*\n?/.exec(e),r=null==t.prevCapture?"":t.prevCapture[0];return null===n||n[1].length>3||/^ *#+$/.test(r)?null:n}})},D={user:e=>"@"+t.sanitizeText(e.id),channel:e=>"#"+t.sanitizeText(e.id),role:e=>"&"+t.sanitizeText(e.id),everyone:()=>"@everyone",here:()=>"@here"},H={discordUser:{order:t.defaultRules.strong.order,match:e=>/^<@!?([0-9]*)>/.exec(e),parse:function(e){return{id:e[1]}},html:function(e,t,n){return I("span",n.discordCallback.user(e),{class:"d-mention d-user"},n)}},discordChannel:{order:t.defaultRules.strong.order,match:e=>/^<#?([0-9]*)>/.exec(e),parse:function(e){return{id:e[1]}},html:function(e,t,n){return I("span",n.discordCallback.channel(e),{class:"d-mention d-channel"},n)}},discordRole:{order:t.defaultRules.strong.order,match:e=>/^<@&([0-9]*)>/.exec(e),parse:function(e){return{id:e[1]}},html:function(e,t,n){return I("span",n.discordCallback.role(e),{class:"d-mention d-role"},n)}},discordEmoji:{order:t.defaultRules.strong.order,match:e=>/^<(a?):(\w+):(\d+)>/.exec(e),parse:function(e){return{animated:"a"===e[1],name:e[2],id:e[3]}},html:function(e,t,n){return I("img","",{class:"d-emoji"+(e.animated?" d-emoji-animated":""),src:`https://cdn.discordapp.com/emojis/${e.id}.${e.animated?"gif":"png"}`,alt:`:${e.name}:`},!1,n)}},discordEveryone:{order:t.defaultRules.strong.order,match:e=>/^@everyone/.exec(e),parse:function(){return{}},html:function(e,t,n){return I("span",n.discordCallback.everyone(e),{class:"d-mention d-user"},n)}},discordHere:{order:t.defaultRules.strong.order,match:e=>/^@here/.exec(e),parse:function(){return{}},html:function(e,t,n){return I("span",n.discordCallback.here(e),{class:"d-mention d-user"},n)}}};Object.assign(Z,H);const Q=Object.assign({},H,{text:Object.assign({},t.defaultRules.text,{match:e=>/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e),html:function(e,n,r){return r.escapeHTML?t.sanitizeText(e.content):e.content}})}),G=Object.assign({},Z,{link:t.defaultRules.link}),V=Object.assign({},q,Z),X=t.parserFor(V),Y=t.outputFor(V,"html"),J=t.parserFor(Q),K=t.outputFor(Q,"html"),W=t.parserFor(G),ee=t.outputFor(G,"html");var te={parser:e=>X(e,{inline:!0}),htmlOutput:Y,toHTML:function(e,t,n,r){if((n||r)&&(!n||!r))throw new Error("You must pass both a custom parser and custom htmlOutput function, not just one");t=Object.assign({embed:!1,escapeHTML:!0,discordOnly:!1,discordCallback:{}},t||{});let o=X,a=Y;n?(o=n,a=r):t.discordOnly?(o=J,a=K):t.embed&&(o=W,a=ee);const l={inline:!0,inQuote:!1,inEmphasis:!1,escapeHTML:t.escapeHTML,cssModuleNames:t.cssModuleNames||null,discordCallback:Object.assign({},D,t.discordCallback)};return a(o(e,l),l)},rules:Z,rulesDiscordOnly:Q,rulesEmbed:G,markdownEngine:t,htmlTag:I},ne=te.parser,re=te.htmlOutput,oe=te.toHTML,ae=te.rules,le=te.rulesDiscordOnly,ue=te.rulesEmbed,ce=te.markdownEngine,ie=te.htmlTag;return e.default=te,e.htmlOutput=re,e.htmlTag=ie,e.markdownEngine=ce,e.parser=ne,e.rules=ae,e.rulesDiscordOnly=le,e.rulesEmbed=ue,e.toHTML=oe,e}({});
